<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>pof. QCAGUI 2.4</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="
Adrian Dusa
">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">QCAGUI 2.4</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Calculate parameters of fit</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>pof(setms, outcome, data, relation&nbsp;=&nbsp;"nec", inf.test&nbsp;=&nbsp;"", incl.cut&nbsp;=&nbsp;c(0.75, 0.5), add&nbsp;=&nbsp;"", ...)</div>
</pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>setms</dt>
      <dd>A data frame of (calibrated) set memberships, or a matrix of implicants, 
        or a vector of row numbers from the implicant matrix, or a string expression</dd>
      <dt>outcome</dt>
      <dd>The name of the outcome column from a calibrated data frame, or
        the actual numerical column from the data frame, representing the outcome.</dd>
      <dt>data</dt>
      <dd>The calibrated data frame, in case the <b><code>outcome</code></b> is a name.</dd>
      <dt>relation</dt>
      <dd>The set relation to <b><code>outcome</code></b>, either necessity
        (<b><code>"nec"</code></b>) or sufficiency (<b><code>"suf"</code></b>)</dd>
      <dt>inf.test</dt>
      <dd>Specifies the statistical inference test to be performed (currently 
       only <b><code>"binom"</code></b>) and the critical significance level. It can be either
       a vector of length 2, or a single string containing both, separated by a comma.</dd>
      <dt>incl.cut</dt>
      <dd>The inclusion cutoff(s): either a single value for the presence of the
        output, or a vector of length 2, the second for the absence of the output.</dd>
      <dt>add</dt>
      <dd>Additional measures to complement the default ones.</dd>
      <dt>...</dt>
      <dd>Other arguments (mainly for backward compatibility).</dd>
    </dl>
    
    <div class="Description">
      <h2>Description</h2>

      <p>This function returns inclusion (consistency), coverage, PRI and optionally
the relevance of necessity scores.</p>
  
    </div>

    <div class="Details">
      <h2>Details</h2>

      <p>This is one of the most flexible functions in the <span class = "pkg">QCA</span> package. Depending on particular
situations, its arguments can be provided in various formats which are automatically
recognized and treated accordingly.</p>
  
      <p>When specified as a data frame, the argument <b><code>setms</code></b> contains any kind of set
membership scores:</p>
  
      <p>- calibrated causal conditions from the original data,</p>
  
      <p>- membership scores from the resulting combinations (component <b><code>coms</code></b>) of
function <b><code>superSubset()</code></b>,</p>
  
      <p>- prime implicant membership scores (component <b><code>pims</code></b>) from function
<b><code>eqmcc()</code></b>,</p>
  
      <p>- any other, custom created combinations of set memberships.</p>
  
      <p>When specified as a matrix, <b><code>setms</code></b> contains the crisp causal combinations
similar to those found in the truth table. If some of the causal conditions have
been minimized, they can be replaced by the numerical value <b><code>-1</code></b> (see examples
section). The number of columns in the matrix should be equal to the number of causal
conditions in the original <b><code>data</code></b>.</p>
  
      <p>More generally, <b><code>setms</code></b> can be a numerical vector of line numbers from the
implicant matrix (see function <b><code>createMatrix()</code></b>), which are automatically
transformed into their corresponding set membership scores.</p>
  
      <p>Starting with version 2.1, <b><code>setms</code></b> can also be a string expression, written
in disjunctive normal form.</p>
  
      <p>For all situation when <b><code>setms</code></b> is something else than a data frame, it requires
the original <b><code>data</code></b> to generate the set memberships.</p>
  
      <p>If a string, the argument <b><code>outcome</code></b> is the name of the column from the original
<b><code>data</code></b>, to be explained (it is a good practice advice to provide using upper
case letters, although it will nevertheless be converted to upper case letters, by default).</p>
  
      <p>If the outcome column is multi-value, the argument <b><code>outcome</code></b> should use the standard
curly-bracket notation <b><code>X{value}</code></b>. Multiple values are allowed, separated by a comma
(for example <b><code>X{1,2}</code></b>). Negation of the outcome can also be performed using the tilde
<b><code>~</code></b> operator, for example <b><code>~X{1,2}</code></b>, which is interpreted as:
"all values in X except 1 and 2" and it becomes the new outcome to be explained.</p>
  
      <p>The argument <b><code>outcome</code></b> can also be a numerical vector of set membership values,
either directly from the original data frame, or a recoded version (if originally multi-value).</p>
  
      <p>The argument <b><code>inf.test</code></b> provides the possibility to perform statistical inference
tests, comparing the calculated inclusion score with a pair of thresholds (<b><code>ic1</code></b> and
<b><code>ic0</code></b>) specified in the argument <b><code>incl.cut</code></b>. Currently, it can only
perform binomial tests (<b><code>"binom"</code></b>), which means that data should only be provided
as binary crisp (not multivalue, not fuzzy).</p>
  
      <p>If the critical significance level is not provided, the default level of <b><code>0.05</code></b>
is taken.</p>
  
      <p>The resulting object will contain the calculated p-values (pval1 and pval0) from two separate,
one-tailed tests with the alternative hypothesis that the true inclusion score is:
- greater than <b><code>ic1</code></b> (the inclusion cutoff for an output value of 1)
- greater than <b><code>ic0</code></b> (the inclusion cutoff for an output value of 0)</p>
  
      <p>It should be noted that statistical tests are performing well only when the number
of cases is large, otherwise they are usually not significant.</p>
  
      <p>The argument <b><code>add</code></b> complements the standard measures of inclusion, coverage and
PRI with other, established measures that are under testing implementation, or
candidate measures that await their recognition as standard.</p>
  
      <p>One such example of an established measure is <b><code>ron</code></b>, suggested by
Schneider & Wagemann's (2012) relevance of necessity formula.</p>
  
      <p>Starting with version 2.0, this function also accepts and recognize negation of both
<b><code>setms</code></b> and <b><code>outcome</code></b> using the Boolean subtraction from 1. If the names of
the conditions are provided via an optional (undocumented) argument <b><code>conditions</code></b>,
the colnames of the <b><code>setms</code></b> object are negated using <b><code>deMorgan()</code></b>.</p>
  
      <p>Starting with version 2.1, the logical argument <b><code>neg.out</code></b> is deprecated, but
backwards compatible. <b><code>neg.out = TRUE</code></b> and a tilde <b><code>~</code></b> in the outcome name 
don't cancel each other out, either one (or even both) signaling if the <b><code>outcome</code></b>
should be negated.</p>
  
      <p>When argument <b><code>setms</code></b> is a SOP expression, it is the only place where the
everything (including the <b><code>outcome</code></b>) can be negated using lower case letters, with
or without a tilde. Lower case letters and a tilde does cancel each other out, for
example <b><code>~X</code></b> is interpreted as <b><code>x</code></b>, while <b><code>~x</code></b> is interpreted
as <b><code>X</code></b>.</p>
  
      <p></p>
  
    </div>

    <div class="References">
      <h2>References</h2>

      <p>Cebotari, V.; Vink, M.P. (2013) &#147;A Configurational Analysis of Ethnic
Protest in Europe&#148;. <em>International Journal of Comparative Sociology</em>
vol.54, no.4, pp.298-324.</p>
  
      <p>Schneider, C. and Wagemann, C. (2012) <em>Set-Theoretic Metods for the Social Sciences.
A Guide to Qualitative Comparative Analysis</em>. Cambridge: Cambridge University Press.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'># -----
# Cebotari &amp; Vink (2013) fuzzy data
data(CVF) 

conds &lt;- CVF[, 1:5]
PROTEST &lt;- CVF$PROTEST

# parameters of fit (default is necessity)
pof(conds, PROTEST)
</div>
<div class='output'>
             incl   RoN    cov.r 
-------------------------------- 
1  DEMOC     0.741  0.758  0.713 
2  ETHFRACT  0.680  0.830  0.755 
3  GEOCON    0.904  0.492  0.624 
4  POLDIS    0.518  0.878  0.744 
5  NATPRIDE  0.708  0.523  0.539 
-------------------------------- 

</div>
<div class='input'>
# parameters of fit negating the conditions
pof(1 - conds, PROTEST)
</div>
<div class='output'>
               incl   RoN    cov.r 
---------------------------------- 
1  ~ DEMOC     0.564  0.736  0.601 
2  ~ ETHFRACT  0.661  0.684  0.614 
3  ~ GEOCON    0.317  0.873  0.601 
4  ~ POLDIS    0.631  0.517  0.493 
5  ~ NATPRIDE  0.597  0.952  0.899 
---------------------------------- 

</div>
<div class='input'>
# negating the outcome
pof(conds, 1 - PROTEST)
</div>
<div class='output'>
             incl   RoN    cov.r 
-------------------------------- 
1  DEMOC     0.618  0.682  0.580 
2  ETHFRACT  0.574  0.760  0.623 
3  GEOCON    0.784  0.436  0.529 
4  POLDIS    0.335  0.776  0.470 
5  NATPRIDE  0.932  0.622  0.693 
-------------------------------- 

</div>
<div class='input'>
# parameters of fit for sufficiency
pof(conds, PROTEST, relation = &quot;suf&quot;)
</div>
<div class='output'>
             incl   PRI    cov.r  cov.u 
--------------------------------------- 
1  DEMOC     0.713  0.508  0.741  0.000 
2  ETHFRACT  0.755  0.578  0.680  0.002 
3  GEOCON    0.624  0.449  0.904  0.052 
4  POLDIS    0.744  0.624  0.518  0.000 
5  NATPRIDE  0.539  0.279  0.708  0.024 
--------------------------------------- 

</div>
<div class='input'>
# also negating the outcome
pof(conds, 1 - PROTEST, relation = &quot;suf&quot;)
</div>
<div class='output'>
             incl   PRI    cov.r  cov.u 
--------------------------------------- 
1  DEMOC     0.580  0.281  0.618  0.001 
2  ETHFRACT  0.623  0.349  0.574  0.000 
3  GEOCON    0.529  0.309  0.784  0.000 
4  POLDIS    0.470  0.221  0.335  0.000 
5  NATPRIDE  0.693  0.520  0.932  0.086 
--------------------------------------- 

</div>
<div class='input'>

# -----
# standard analysis of necessity
# using the &quot;coms&quot; component from superSubset()
nCVF &lt;- superSubset(CVF, outcome = &quot;PROTEST&quot;, incl.cut = 0.90, cov.cut = 0.6)

# also checking their necessity inclusion score in the negated outcome
pof(nCVF$coms, 1 - PROTEST)
</div>
<div class='output'>
                                     incl   RoN    cov.r 
-------------------------------------------------------- 
 1  GEOCON                           0.784  0.436  0.529 
 2  ethfract+POLDIS+natpride         0.815  0.501  0.575 
 3  DEMOC+POLDIS+natpride            0.708  0.492  0.515 
 4  DEMOC+geocon+natpride            0.779  0.513  0.562 
 5  DEMOC+geocon+POLDIS              0.792  0.474  0.550 
 6  DEMOC+ethfract+natpride          0.809  0.476  0.560 
 7  DEMOC+ethfract+POLDIS            0.804  0.450  0.545 
 8  DEMOC+ETHFRACT+natpride          0.801  0.463  0.550 
 9  DEMOC+ETHFRACT+POLDIS            0.821  0.458  0.558 
10  DEMOC+ETHFRACT+geocon            0.881  0.440  0.579 
11  ETHFRACT+geocon+POLDIS+natpride  0.768  0.533  0.567 
12  democ+ETHFRACT+POLDIS+natpride   0.843  0.491  0.584 
-------------------------------------------------------- 

</div>
<div class='input'>

# -----
# standard analysis of sufficiency
# using the &quot;pims&quot; component from eqmcc()

# conservative solution
cCVF &lt;- eqmcc(CVF, &quot;PROTEST&quot;, incl.cut = 0.8, details = TRUE)

# verify if their negations are also sufficient for the outcome
pof(1 - cCVF$pims, PROTEST)
</div>
<div class='output'>
                                          incl   RoN    cov.r 
------------------------------------------------------------- 
1  democ+ethfract+geocon                  0.841  0.452  0.575 
2  ethfract+geocon+poldis                 0.790  0.354  0.508 
3  democ+ethfract+poldis+NATPRIDE         0.892  0.259  0.526 
4  democ+geocon+poldis+natpride           0.893  0.304  0.542 
5  DEMOC+ETHFRACT+geocon+POLDIS+NATPRIDE  0.945  0.299  0.567 
------------------------------------------------------------- 

</div>
<div class='input'>

# -----
# using a DNF expression, translated using the function translate()

# notice that lower case letters means absence a causal condition
pof(&quot;natpride + GEOCON =&gt; PROTEST&quot;, data = CVF)
</div>
<div class='output'>
               incl   PRI    cov.r  cov.u 
----------------------------------------- 
1  natpride    0.899  0.807  0.597  0.042 
2  GEOCON      0.624  0.449  0.904  0.349 
3  expression  0.633  0.462  0.946    -   
----------------------------------------- 

</div>
<div class='input'>
# same for the negation of the outcome
pof(&quot;natpride + GEOCON =&gt; ~PROTEST&quot;, data = CVF)
</div>
<div class='output'>
               incl   PRI    cov.r  cov.u 
----------------------------------------- 
1  natpride    0.561  0.156  0.381  0.018 
2  GEOCON      0.529  0.309  0.784  0.421 
3  expression  0.524  0.303  0.803    -   
----------------------------------------- 

</div>
<div class='input'>
# same using lower letters for the negation
pof(&quot;natpride + GEOCON =&gt; protest&quot;, data = CVF)
</div>
<div class='output'>
               incl   PRI    cov.r  cov.u 
----------------------------------------- 
1  natpride    0.561  0.156  0.381  0.018 
2  GEOCON      0.529  0.309  0.784  0.421 
3  expression  0.524  0.303  0.803    -   
----------------------------------------- 

</div>
<div class='input'>
# necessity is indicated by the reverse arrow
pof(&quot;natpride + GEOCON &lt;= PROTEST&quot;, data = CVF)
</div>
<div class='output'>
               incl   RoN    cov.r 
---------------------------------- 
1  natpride    0.597  0.952  0.899 
2  GEOCON      0.904  0.492  0.624 
3  expression  0.946  0.468  0.633 
---------------------------------- 

</div>
<div class='input'></div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>pof</li>
    </ul>
    <ul>
      <li>functions</li>
    </ul> -->
      
    <h2>See also</h2>
    <code><a href='eqmcc.html'>eqmcc</a></code>, <code><a href='subsetsAndSupersets.html'>superSubset</a></code>, <code><a href='translate.html'>translate</a></code>
    
    <h2>Author</h2>
    
Adrian Dusa

    
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="https://getbootstrap.com/2.0.4/">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>
